# -*- coding: utf-8 -*-
try:
    # Fix UTF8 output issues on Windows console.
    # Does nothing if package is not installed
    from win_unicode_console import enable
    enable()
except ImportError:
    pass

def utfReverse(s):
    # CAVEAT: this will mess up characters that are
    # more than 2 bytes long in utf 16
    u = s.decode("utf-8")
    return u[::-1].encode("utf-8")

######################################################################

from trace import Trace
import requests
import json

def callApi(url, data, tokenKey):    
    headers = {
        'Content-Type': "application/json",
        'Authorization': "Bearer " + tokenKey,
        'Cache-Control': "no-cache"
    }
    response = requests.request("POST", url, data=data.encode("utf-8"), headers=headers)
    result = response.text  # utfReverse(response.text.encode("utf-8"))
    response.close()
    return result
    

def callApiJsonParam(url, data, tokenKey):    
    headers = {
        'Authorization': "Bearer " + tokenKey,
        'Cache-Control': "no-cache"
    }
    response = requests.request("POST", url, json=data, headers=headers)
    result = response.text
    response.close()
    return result

##################### Get Token by Api Key ##########################
baseUrl = "http://api.text-mining.ir/api/"
url = baseUrl + "Token/GetToken"
querystring = {"apikey":"YOUR_API_KEY"}
response = requests.request("GET", url, params=querystring)
data = json.loads(response.text)
tokenKey = data['token']

######################## Call Normalizer ############################
url =  baseUrl + "PreProcessing/NormalizePersianWord"
payload = json.dumps({"text":"ูููู ุงฺฏููุฑ ุฏฺชูููููู ูููฺชููุซ ุฑู ููููููุณ ฺชูููููููู ฺชูููููุง ูููุชููู ฺูููููุฏููู ุตูููููุญููู ุฌููุงุจููู ุฌููุง ูููููุดููู ู ุฏููฺฏููู ููููููููุดููู ูููููููููุฏ ฺชููุฏูู ุขููู ุชูููููุงูุช ููู ุดูุฏ ุจููุงููุฏ ฺูู ฺชููููููููุ.", 
                      "refineSeparatedAffix":"true"}, ensure_ascii=False)
print(callApi(url, payload, tokenKey))
# or
payload = {"text":"ูููู ุงฺฏููุฑ ุฏฺชูููููู ูููฺชููุซ ุฑู ููููููุณ ฺชูููููููู ฺชูููููุง ูููุชููู ฺูููููุฏููู ุตูููููุญููู ุฌููุงุจููู ุฌููุง ูููููุดููู ู ุฏููฺฏููู ููููููููุดููู ูููููููููุฏ ฺชููุฏูู ุขููู ุชูููููุงูุช ููู ุดูุฏ ุจููุงููุฏ ฺูู ฺชููููููููุ.", 
           "refineSeparatedAffix": True}
print(callApiJsonParam(url, payload, tokenKey))

# result: ูู ุงฺฏุฑ ุฏฺฉูู ูฺฉุซ ุฑู ููุณ ฺฉูู ฺฉูุง ูุชู ฺูุฏู ุตูุญู ุฌุงุจู ุฌุง ูุดู ู ุฏฺฏู ููุดู ูููุฏ ฺฉุฏูู ุขู ุชูุงูุช ูโุดูุฏ ุจุงุฏ ฺ ฺฉููุ.

##################### Call Sentence Splitter ########################
url =  baseUrl + "PreProcessing/SentenceSplitter"
payload = {"text": "ูู ุจุง ุฏูุณุชู ุจู ูุฏุฑุณู ู ุฑูุชู ู ุฏุฑ ุขูุฌุง ูุดุบูู ุจู ุชุญุตู ุจูุฏู. ุณูพุณ ุจู ุฏุงูุดฺฏุงู ุฑุงู ุงูุชู",
    "checkSlang": True,
    "normalize": True, 
    "normalizerParams": {
        "text": "don't care",
        "RefineQuotationPunc": False
    },
    "complexSentence": True
}
print(callApiJsonParam(url, payload, tokenKey))
# resuilt: ["ูู ุจุง ุฏูุณุชู ุจู ูุฏุฑุณู ูโุฑูุชู","ู ุฏุฑ ุขูุฌุง ูุดุบูู ุจู ุชุญุตู ุจูุฏู .","ุณูพุณ ุจู ุฏุงูุดฺฏุงู ุฑุงู ุงูุชู"

######################## Call Tokenizer ############################
url =  baseUrl + "PreProcessing/Tokenize"
payload = "ูู ุจุง ุฏุงูุดุฌูุงู ุฏฺฏุฑ ุจุฑุฎูุฑุฏ ฺฉุฑุฏู"
print(callApiJsonParam(url, payload, tokenKey))
# rsult: ["ูู","ุจุง","ุฏุงูุดุฌูุงู","ุฏฺฏุฑ","ุจุฑุฎูุฑุฏ","ฺฉุฑุฏู"]

url =  baseUrl + "PreProcessing/TokenizeWithType"
payload = "ุงุฎุจุงุฑ 20:30 ููุฑุฎ 1398/2/22 ุงุนูุงู ฺฉุฑุฏ ุดุฑฺฉุช T.E.T ูุจูุบ 200.57 ูููู ุงุฑุฒุด ุฏุงุฑุฏ!!!  ๐ @Khabar_Alaki -- email: hi@text-mining.ir"
print(callApiJsonParam(url, payload, tokenKey))
#result: [{"key":"ุงุฎุจุงุฑ","value":"Word"},{"key":"20:30 ","value":"DateTime"},{"key":"ููุฑุฎ","value":"Word"},{"key":"1398/2/22","value":"DateTime"},{"key":"ุงุนูุงู","value":"Word"},{"key":"ฺฉุฑุฏ","value":"Word"},{"key":"ุดุฑฺฉุช","value":"Word"},{"key":"T.E.T","value":"Abbreviation"},{"key":"ูุจูุบ","value":"Word"},{"key":"200.57","value":"Number"},{"key":"ูููู","value":"Word"},{"key":"ุงุฑุฒุด","value":"Word"},{"key":"ุฏุงุฑุฏ","value":"Word"},{"key":"!!!","value":"Separator"},{"key":"๐","value":"Emoji"},{"key":"@Khabar_Alaki","value":"SocialId"},{"key":"--","value":"Separator"},{"key":"email","value":"Word"},{"key":":","value":"Separator"},{"key":"hi@text-mining.ir","value":"Email"}]

############# Call Sentence Splitter and Tokenizer #################
url =  baseUrl + "PreProcessing/SentenceSplitterAndTokenize"
payload = {"text": "ูู ุจุง ุฏูุณุชู ุจู ูุฏุฑุณู ู ุฑูุชู ู ุฏุฑ ุขูุฌุง ูุดุบูู ุจู ุชุญุตู ุจูุฏู. ุณูพุณ ุจู ุฏุงูุดฺฏุงู ุฑุงู ุงูุชู", 
           "checkSlang": True, 
           "normalize": True, 
           "normalizerParams": {
               "text": "don't care",
               "replaceWildChar": True,
                "replaceDigit": True,
                "refineSeparatedAffix": True,
                "refineQuotationPunc": False
                },
           "complexSentence": True
           }
print(callApiJsonParam(url, payload, tokenKey))
# result: [["ูู","ุจุง","ุฏูุณุชู","ุจู","ูุฏุฑุณู","ูโุฑูุชู"],["ู","ุฏุฑ","ุขูุฌุง","ูุดุบูู","ุจู","ุชุญุตู","ุจูุฏู","."],["ุณูพุณ","ุจู","ุฏุงูุดฺฏุงู","ุฑุงู","ุงูุชู"]]

########################## Call Stemmer ##########################
url =  baseUrl + "Stemmer/LemmatizeText2Text"
payload = "ูู ุจุง ุฏุงูุดุฌูุงู ุฏฺฏุฑ ุจุฑุฎูุฑุฏ ฺฉุฑุฏู. ุณูพุณ ุจู ุขููุง ฺฏูุชู\nูู ุจุง ุดูุง ฺฉุงุฑูุง ุฒุงุฏ ุฏุงุฑู"
print(callApiJsonParam(url, payload, tokenKey))
''' result: 
ูู ุจุง ุฏุงูุดุฌู ุฏฺฏุฑ ุจุฑ ุฎูุฑุฏ ฺฉุฑุฏ. ุณูพุณ ุจู ุขู ฺฏูุช
ูู ุจุง ุดูุง ฺฉุงุฑ ุฒุงุฏ ุฏุงุดุช
'''

url =  baseUrl + "Stemmer/LemmatizePhrase2Phrase"
payload = u'{"phrases": [{ "word": "ุฏุฑุงููุฑุฏุงู" }, { "word": "ูุฑุดุชฺฏุงู" }], "checkSlang": false}'
print(callApi(url, payload, tokenKey))
# result: [{"wordComment":"","simplePos":"","rootWords":["ุฏุฑุงููุฑุฏ","ุฏุฑุง"],"verbInformation":null,"sentenceNumber":0,"wordNumberInSentence":0,"startCharIndex":0,"word":"ุฏุฑุงููุฑุฏุงู","tags":{},"firstRoot":"ุฏุฑุงููุฑุฏ","wordCount":1,"length":11,"isVerb":false,"isPunc":false},{"wordComment":"","simplePos":"","rootWords":["ูุฑุดุชู"],"verbInformation":null,"sentenceNumber":0,"wordNumberInSentence":0,"startCharIndex":0,"word":"ูุฑุดุชฺฏุงู","tags":{},"firstRoot":"ูุฑุดุชู","wordCount":1,"length":7,"isVerb":false,"isPunc":false}]

url =  baseUrl + "Stemmer/LemmatizeText2Phrase"
payload = u'{"text": "ุฏุงูุดุฌูุงู ุฒุงุฏ ุจู ูุฏุงุฑุณ ุงุณุชุนุฏุงุฏูุง ุฏุฑุฎุดุงู ุฑุงู ูพุฏุง ูุฎูุงููุฏ ฺฉุฑุฏ ฺฉู ุจุง ูุดฺฉูุงุช ุจุนุฏ ููุงุฌู ุดููุฏ.", "checkSlang": false}'
result = json.loads(callApi(url, payload, tokenKey))
for phrase in result:
    print(f"({phrase['Word']}:{phrase['FirstRoot']}) ")
''' result:
(ุฏุงูุดุฌูุงู:ุฏุงูุดุฌู)
(ุฒุงุฏ:ุฒุงุฏ)
(ุจู:ุจู)
(ูุฏุงุฑุณ:ูุฏุฑุณู)
(ุงุณุชุนุฏุงุฏูุง:ุงุณุชุนุฏุงุฏ)
(ุฏุฑุฎุดุงู:ุฏุฑุฎุดุงู)
(ุฑุงู:ุฑุงู)
(ูพุฏุง:ูพุฏุง)
(ูุฎูุงููุฏ ฺฉุฑุฏ:ูฺฉุฑุฏ)
(ฺฉู:ฺฉู)
(ุจุง:ุจุง)
(ูุดฺฉูุงุช:ูุดฺฉู)
(ุจุนุฏ:ุจุนุฏ)
(ููุงุฌู:ููุงุฌู)
(ุดููุฏ:ุดุฏ)
(.:.)
'''

url =  baseUrl + "Stemmer/LemmatizeWords2Phrase"
payload = u'["ุฏุฑุงููุฑุฏุงู", "ุฌุฒุงุฑ", "ูุฑุดุชฺฏุงู", "ุชููุง"]'
result = json.loads(callApi(url, payload, tokenKey))
for phrase in result:
    print(f"({phrase['Word']}:{phrase['FirstRoot']}) ")
''' result:
(ุฏุฑุงููุฑุฏุงู:ุฏุฑุงููุฑุฏ)
(ุฌุฒุงุฑ:ุฌุฒุฑู)
(ูุฑุดุชฺฏุงู:ูุฑุดุชู)
(ุชููุง:ุชููุง)
'''

#################### Call Spell Corrector ########################
url =  baseUrl + "TextRefinement/SpellCorrector"
payload = u'''{\"text\": \"ูููู ุจุง ูุจุงุช ูุฌุณุจุฏ\",
            \"checkSlang\": true, 
            \"normalize\": true, 
            \"candidateCount\": 2}'''
print(callApi(url, payload, tokenKey))
# result: ูููู ุจุง {ูุจุงุช,ููุงุช} {ูโฺุณุจุฏ,ูโุฌูุจุฏ}

################ Call Spell Corrector in Context ##################
url =  baseUrl + "TextRefinement/SpellCorrectorInContext"
payload = u'''{\"text\": \"ุณุชุฑ ุญูุงู ุงุณุช ฺฉู ุฏุฑ ุตุญุฑุง ุจุง ููุฏุงุฑ ฺฉู ุขุจ ุฒูุฏฺฏ ูฺฉูุฏ\",
            \"normalize\": true, 
            \"candidateCount\": 3}'''
print(callApi(url, payload, tokenKey))
# result: {ุดุชุฑ,ุณุทุฑ,ุณูุฑ} {ุญูุงู,ุญูุงู,ููุงู} {ุงุณุช,ุฏุณุช,ูุณุช} ฺฉู ุฏุฑ {ุตุญุฑุง,ุตูุฑุง,ุตุฏุฑุง} ุจุง {ููุฏุงุฑ,ูุฏุงุฑ,ููุฏุฑ} ฺฉู ุขุจ {ุฒูุฏฺฏ,ุจูุฏฺฏ,ุฒุฏฺฏ} {ูโฺฉูุฏ,ูโฺฉูุฏ,ูฺฉูุฏ}

################## Call Swear Word Detector ######################
url =  baseUrl + "TextRefinement/SwearWordTagger"
payload = u'"ุฎูููููููุฑุฑุฑุฑุฑูุง ุฏููููููููู  -   ุตฺฉุณ  ุณ.ฺฉ.ุณ   \r\n ุจูพุฏุฑููุงุฏุฑ"'
result = json.loads(callApi(url, payload, tokenKey))
## for item in result: ...
print(result)
# result: {'ุฎุฑุฑุฑุฑุฑูุง': 'MildSwearWord', 'ุฏููููููููู': 'MildSwearWord', 'ุตฺฉุณ': 'StrongSwearWord', 'ุณ.ฺฉ.ุณ': 'StrongSwearWord', ' ุจูพุฏุฑููุงุฏุฑ': 'StrongSwearWord'}

################ Call Slang to Formal Converter ##################
url =  baseUrl + "TextRefinement/FormalConverter"
payload = u'''ุงฺฏู ุงูู ฺฏุฒูู ุฑู ฺฉูฺฉ ฺฉููุ ู ูพูุฌุฑู ุจุงุฒ ูุดู ฺฉู ูุชููู ุฑูุฒ ุนุจูุฑุชูู ุฑู ุงููุฌุง ุชุบุฑ ุจุฏู
    ุฏุงุดุชู ูู ุฑูุชู ุจุฑูุ ุฏูุฏู ฺฏุฑูุช ูุดุณุชุ ฺฏูุชู ุจุฐุงุฑ ุจูพุฑุณู ุจุจููู ููุงุฏ ูููุงุฏ ุฏูุฏู ููฺฏู ูููุฎูุงู ุจูุงู ุจุฐุงุฑ ุจุฑู ุจฺฏูุฑู ุจุฎูุงุจู ููุชููู ุจุดูู.
    ฺฉุชุงุจุง ุฎูุฏุชููู
    ููุฏููู ฺ ุจฺฏู ฺฉู ุฏฺฏู ุงููุฌุง ูุฑู
    ุณุงุนุช ฺู ูุชููู ุจุงูุ'''
print(callApiJsonParam(url, payload, tokenKey))
''' result:
ุงฺฏุฑ ุขู ฺฏุฒูู ุฑุง ฺฉูฺฉ ฺฉูุฏุ ฺฉ ูพูุฌุฑู ุจุงุฒ ูโุดูุฏ ฺฉู ูโุชูุงูุฏ ุฑูุฒ ุนุจูุฑุชุงู ุฑุง ุขูุฌุง ุชุบุฑ ุจุฏูุฏ
ุฏุงุดุชู ูโุฑูุชู ุจุฑููุ ุฏุฏู ฺฏุฑูุช ูุดุณุชุ ฺฏูุชู ุจฺฏุฐุงุฑ ุจูพุฑุณู ุจุจูู ูโุขุฏ ููโุขุฏ ุฏุฏู ูโฺฏูุฏ ููโุฎูุงูู ุจุงู ุจฺฏุฐุงุฑ ุจุฑูู ุจฺฏุฑู ุจุฎูุงุจู ููโุชูุงูู ุจูุดูู.
ฺฉุชุงุจโูุง ุฎูุฏุชุงู ุงุณุช
ููโุฏุงูู ฺู ุจฺฏูู ฺฉู ุฏฺฏุฑ ุขูุฌุง ูุฑูุฏ
ุณุงุนุช ฺูุฏ ูโุชูุงูุฏ ุจุงุฏุ
'''

######################## Call POS-Tagger ############################
url =  baseUrl + "PosTagger/GetPos"
payload = u'ุงุญูุฏ ู ุนู ุจู ูุฏุฑุณู ูพุงู ุฎุงุจุงู ู ุฑูุชูุฏ'
result = json.loads(callApiJsonParam(url, payload, tokenKey))
for phrase in result:
    print(f"({phrase['Word']},{phrase['Tags']['POS']['Item1']}) ")
''' result:
(ุงุญูุฏ,N)
(ู,CON)
(ุนู,N)
(ุจู,P)
(ูุฏุฑุณู,N)
(ูพุงู,ADJ)
(ุฎุงุจุงู,N)
(ูโุฑูุชูุฏ,V)
(.,)
'''

############################ Call NER ###############################
url =  baseUrl + "NamedEntityRecognition/Detect"
payload = u'"ุงุญูุฏ ุนุจุงุณ ุจู ุชุญุตูุงุช ุฎูุฏ ุฏุฑ ุฏุงูุดฺฏุงู ุขุฒุงุฏ ุงุณูุงู ุฏุฑ ูุดูุฏ ุงุฏุงูู ุฏุงุฏ"'
result = json.loads(callApi(url, payload, tokenKey))
for phrase in result:
    print(f"({phrase['Word']},{phrase['Tags']['NER']['Item1']}) ")
''' result:
{ุงุญูุฏ,B-PER}
{ุนุจุงุณ,I-PER}
{ุจู,O}
{ุชุญุตูุงุช,O}
{ุฎูุฏ,O}
{ุฏุฑ,O}
{ุฏุงูุดฺฏุงู,B-ORG}
{ุขุฒุงุฏ,I-ORG}
{ุงุณูุงู,I-ORG}
{ุฏุฑ,O}
{ูุดูุฏ,I-LOC}
{ุงุฏุงูู,O}
{ุฏุงุฏ,O}
'''

##################### Call Language Detection #######################
url =  baseUrl + "LanguageDetection/Predict"
payload = u'"ุดุงู ุจุณู ุง ูุฎ. ุณู ุณุฒ ุจูุบุงุฒููุงู ฺฏุชูุฑ ุดุงู. ุจู ุจู ูู ูุดู ุฑุฏ. ุณุงุบ ุงูู ุณุฒ ูุฆุฌู ุณุฒ. ูุฆุฌู ุณูุ ุงูุดุงููุงุฑ ูุฆุฌู ุฏุฑุ ุณูุงู ูุงุฑ ูุงุฑ ุณุฒู ฺฉ ูุฑ ูุฆุฌู ุฏุฑ. ุงุฎฺ"'
print(callApi(url, payload, tokenKey))
# result: azb

################## Call Sentiment Classification ####################
url =  baseUrl + "SentimentAnalyzer/SentimentClassifier2" # output:  0:Negative  1:Neutral  2:Positive
payload = u"\"ุงุตูุง ุฎูุจ ูุจูุฏ\""
print(callApi(url, payload, tokenKey)) 
# result: 0

###################### Call Text Similarity #########################
url =  baseUrl + "TextSimilarity/ExtractSynonyms"
payload = u"\"ุงุญุณุงู\""
print(callApi(url, payload, tokenKey))
# result: ["ุงุญุณุงู","ูฺฉ ฺฉุฑุฏู","ูฺฉูฺฉุงุฑ","ุจุฎุดุด","ูฺฉ","ุฎูุจ","ูฺฉู","ุงูุนุงู","ูฺฉู","ุงฺฉุฑุงู","ุตูุน","ูุถู","ูุทู","ููุช","ูุฒู","ูุนูุช","ูฺฉ_ฺฉุฑุฏู","ุงุญุณุงู (ูุงู)","ุงุญุณุงู_(ูุงู)"]

url =  baseUrl + "TextSimilarity/GetMostSimilarWord"
payload = u'''{
    "word": "ุฑูุญุงู", 
    "topN": "50"}'''
print(callApi(url, payload, tokenKey))
# result: ["ุฏููุช","ุขูุง","ุงุญูุฏโูฺุงุฏ","ุฑุฆุณโุฌูููุฑ","ุฑุณโุฌูููุฑ","ุงูุชุฎุงุจุงุช","ุจุฑุฌุงู","ุงุตูุงุญุงุช","ุฎุงุชู","ุทูุจุงู","ุญุณู","ุชุฑุงููพ","ูฺฺฉุฑุฑุฑุฑู","ุงุณุชุบูุงุฑ_ููฺฉูุฏ","ุฌูุงุจ","ูุงุดู","ุฌูุงูฺฏุฑ","ูุฑุฏู","ุฑุงุณุชโุฌูููุฑ","ุงูุชุตุงุฏ","ุงูููุงุจ","ุงุฎุชูุงู_ุณูพุงู_ุงุฑุชุด","ูุฌูุณ","ุณุฎูุงู","ุญูุงุช","ุชุฏุจุฑ","ุณุงุณ","ุณุฎูุฑุงู","ุงุตูุงุญ","ุงุตููฺฏุฑุงุงู","ุธุฑู","ุงูุง","ุงูุชุฎุงุจุงุช","ูุณุฆููู","ุขูุฑฺฉุง","ุดูุฑุง","ุฌูููุฑ","ุฑูุณูุฌุงู","ููุช","ุจุฑุฎุฑูุดุฏูโุงูุฏ","ุฏููุช_ุบุฑุจฺฏุฑุง_ู_ุณุงุฒุดฺฏุฑ","ุฑูุจุฑ","ุฌุงูุนู","ฺฏูุชู","ูุทุฑุญ","ุฏฺฉุชุฑ","ููุงุธุฑู_ุฑูุญุงู_ุจุง_ุฎูุฏุด","ุงุตูุงุญโุทูุจ","ูุฑุตุช_ุจุดุชุฑ","ุงุจูุง_ุนู_ุงูุณุท_ูุงุดู"]

url =  baseUrl + "TextSimilarity/GetSyntacticDistance"
payload = u'{"string1": "ุงุฑุงู ูุง", "string2": "ุงุฑุงูุงู", "distanceFunc": 2}'  # JaccardDistance
print(callApi(url, payload, tokenKey))
# result: 0.333333343

url =  baseUrl + "TextSimilarity/GetStatisticalDistance"
payload = u'''{
    "string1": "ุฑูุญุงู", 
    "string2": "ุฌุณูุงู"}'''
print(callApi(url, payload, tokenKey))
# result: 0.905992568

url =  baseUrl + "TextSimilarity/SentenceSimilarityBipartiteMatching"
payload = u'''{
    "string1": "ุญููู ูุบูููุง ุจู ุงุฑุงู", 
    "string2": "ุญููุงุช ูุบููุงู ุจู ุงุฑุงู", 
    "distanceFunc": 2}'''  # JaccardDistance
print(callApi(url, payload, tokenKey))
# result: 0.80357146263122559

url =  baseUrl + "TextSimilarity/SentenceSimilarityWithIntersectionMatching"
payload = u'''{
    "string1": "ุญููู ูุบูููุง ุจู ุงุฑุงู", 
    "string2": "ุญููุงุช ูุบููุงู ุจู ุงุฑุงู", 
    "distanceFunc": 2,
    "minDistThreshold": 0.3}'''  # ุญุฏุงูู ูุงุตูู ุฏู ฺฉููู ุจุฑุง ุงูุทุจุงู (ฺฉุณุงู ูุฑุถ ูููุฏู) ุขููุง
print(callApi(url, payload, tokenKey))
# result: 0.75

url =  baseUrl + "TextSimilarity/SentenceSimilarityWithNGramMatching"
payload = u'''{
    "string1": "ุญููู ูุบูููุง ุจู ุงุฑุงู", 
    "string2": "ุญููุงุช ูุบููุงู ุจู ุงุฑุงู", 
    "distanceFunc": 2,
    "minDistThreshold": 0.3}'''  # ุญุฏุงูู ูุงุตูู ุฏู ฺฉููู ุจุฑุง ุงูุทุจุงู (ฺฉุณุงู ูุฑุถ ูููุฏู) ุขููุง
print(callApi(url, payload, tokenKey))
# result: 0.714285708963871

url =  baseUrl + "TextSimilarity/SentenceSimilarityWithNearDuplicateDetector"
payload = u'''{
    "string1": "ุญููู ูุบูููุง ุจู ุงุฑุงู", 
    "string2": "ุญููุงุช ูุบููุงู ุจู ุงุฑุงู"}'''
print(callApi(url, payload, tokenKey))
# result: 0.5

################ Call Information Retrieval Function(s) ##################
url =  baseUrl + "InformationRetrieval/KeywordExtraction"
payload = u'''{
    "text": "ุณุฑูุงู ฺฏุฐุงุฑ ููฺฏูุช ุงูุงุฑุงุช ุฏุฑ ุชูุณุนู ุงูุฑฺ
ุงูุงุฑุงุช ุฏุฑ ููุงุทู ุดูุงู ุงู ฺฉุดูุฑ ุจุด ุงุฒ ทฐฐ ูููู ุฏุฑูู ุฏุฑ ุชูุณุนู ุงูุฑฺ ุณุฑูุงู ฺฏุฐุงุฑ ูโฺฉูุฏ.
ูุญูุฏ ุตุงูุญ ูุฏุฑฺฉู ุงุฏุงุฑู ุจุฑู ุงูุงุฑุงุช ุฏุฑ ูุดุณุช ุฎุจุฑ ุงุนูุงู ฺฉุฑุฏ ฺฉู ุงูุงุฑุงุช ูุชุญุฏู ุนุฑุจ ุงุฒ ุงูุณุงู ุชุง ุณุงู ฒฐฒฒ ููุงุฏ ธ ูพุฑูฺู ููู ุงูุฑฺ ุจู ููุธูุฑ ุชูุณุนู ู ฺฏุณุชุฑุด ุจุฑู ููุงุทู ุดูุงู ุงูุงุฑุงุช ุงุฌุฑุง ุฎูุงูุฏ ฺฉุฑุฏ.
ู ุงูุฒูุฏ: ุงู ุทุฑุญโูุง ุจุง ูุฒููโุง ุจุงูุบ ุจุฑ ทฐฐ ูููู ุฏุฑูู ุงุญุฏุงุซ ู ุชฺฉูู ุฎูุงูุฏ ุดุฏ.", 
    "minWordLength": 3,
    "maxWordCount": 3,
    "minKeywordFrequency": 1,
    "resultKeywordCount": 5,
    "method": "TFIDF"}'''
print(callApi(url, payload, tokenKey))
''' result:
{
    "ุงูุงุฑุงุช": 75.26119828977285,
    "ุชูุณุนู ุงูุฑฺ": 23.99621570204974,
    "ทฐฐ ูููู ุฏุฑูู": 21.95849183879027,
    "ููุงุทู ุดูุงู": 20.25414682800825,
    "ุณุฑูุงูโฺฏุฐุงุฑ ููฺฏูุช ุงูุงุฑุงุช": 17.670494399999686
}
'''

url =  baseUrl + "InformationRetrieval/StopWordRemoval"
payload = u'''"ุชู ูุชู ฺฉุงู ูุงุฑุณโุงุฑ ุจุง ูุฌููุนูโุง ุงุฒ ูุงุฑุบ ุงูุชุญุตูุงู ุฏุงูุดฺฏุงูโูุง ุตูุนุช ุดุฑูุ ุชุฑุจุช ูุฏุฑุณ ู ูุฑุฏูุณ ูุดูุฏ ุงุฒ ุณุงู ฑณนฐ ุจุตูุฑุช ุชุฎุตุต ุฏุฑ ุฒููู ูพุฑุฏุงุฒุด ุฒุจุงู ุทุจุน ูุดุบูู ุจู ูุนุงูุช ุงุณุช. ุฏุฑ ุณุงู ฑณนถ ุฏุฑ ุฌูุช ูุนุงูุช ูพฺููุด ุนููยญโุชุฑ ุฏุฑ ุฒููู ูพุฑุฏุงุฒุด ูุชูู ุจุฑุง ุฒุจุงู ูุงุฑุณุ ุงู ฺฏุฑูู ุจุง ุขุฒูุงุดฺฏุงู ูุชู ฺฉุงู ู ุงุฏฺฏุฑ ูุงุดู ูพฺููุดฺฏุงู ุนููู ู ููุงูุฑ ุงุทูุงุนุงุช ุงุฑุงู (ุงุฑุงูุฏุงฺฉ) ููฺฉุงุฑ ุชูฺฏุงุชูฺฏ ุฏุงุดุชู ุงุณุช."'''
print(callApi(url, payload, tokenKey))
# result: ุชู ูุชู ฺฉุงู ูุงุฑุณโุงุฑ ูุฌููุนูโุง ูุงุฑุบ ุงูุชุญุตูุงู ุฏุงูุดฺฏุงูโูุง ุตูุนุช ุดุฑูุ ุชุฑุจุช ูุฏุฑุณ ูุฑุฏูุณ ูุดูุฏ ุณุงู ฑณนฐ ุชุฎุตุต ูพุฑุฏุงุฒุด ุฒุจุงู ุทุจุน ูุดุบูู ูุนุงูุช. ุณุงู ฑณนถ ูุนุงูุช ูพฺููุด ุนููโุชุฑ ูพุฑุฏุงุฒุด ูุชูู ุฒุจุงู ูุงุฑุณุ ฺฏุฑูู ุขุฒูุงุดฺฏุงู ูุชู ฺฉุงู ุงุฏฺฏุฑ ูุงุดู ูพฺููุดฺฏุงู ุนููู ููุงูุฑ ุงุทูุงุนุงุช ุงุฑุงู (ุงุฑุงูุฏุงฺฉ) ููฺฉุงุฑ ุชูฺฏุงุชูฺฏ.

######################## Text Summarization ############################
url =  baseUrl + "InformationRetrieval/Summarize"
payload = json.dumps({"Method":"SFW", "summaryWordCount":150, "text":'''
ุจุงุดฺฏุงู ุฎุจุฑูฺฏุงุฑุงู/ ุฑุฆุณโุฌูููุฑ ุขูุฑฺฉุง ุจู ุงุฏุนุงูุง ุฏุฑุจุงุฑู ุฏุฏุงุฑ ุณูุงุชูุฑ ุขูุฑฺฉุง ุจุง ูุฒุฑ ุฎุงุฑุฌู ุงุฑุงู ุฏุฑ ุญุงุดู ูุดุณุช ูููุฎ ูุงฺฉูุด ูุดุงู ุฏุงุฏ ู ุขู ุฑุง ููุถ ูุงููู ยซููฺฏุงูยป ุฎูุงูุฏ.
ุจู ฺฏุฒุงุฑุด ุฑูุชุฑุฒุ ุฏููุงูุฏ ุชุฑุงููพุ ุฑุฆุณ ุฌูููุฑ ุขูุฑฺฉุงุุฏุฑ ูุงฺฉูุด ุจู ุงูุชุดุงุฑ ุฎุจุฑ ุฏุฑุจุงุฑู ุฏุฏุงุฑ ุณูุงุชูุฑ ฺฉุฑุณ ููุฑู ุจุง ูุญูุฏ ุฌูุงุฏ ุธุฑู ูุฒุฑ ุงููุฑ ุฎุงุฑุฌู ุงุฑุงู - ุฏุฑ ุญุงุดู ฺฉููุฑุงูุณ ุงููุช ูููุฎ - ฺฏูุช: ุฎุจุฑ ุฎูุงูุฏู ฺฉู ููุดุชู ุจูุฏ ุณูุงุชูุฑ ููุฑู ุจุง ุงุฑุงูโูุง ุฏุฏุงุฑ ฺฉุฑุฏ. ุขุง ฺูู ฺุฒ ุญููุช ุฏุงุฑุฏุ ูู ุงู ุฎุจุฑ ุฑุง ููุช ฺฉู ุฏุงุดุชู ุจู ุงูุฌุง ูโุขูุฏูุ ุฏุฏู. ุขุง ฺุฒ ูุณุช ฺฉู ูู ุจุงุฏ ุจุฏุงููุ ฺูู ุจู ูุธุฑ ูโุฑุณุฏ ฺฉู ุงู ุงูุฏุงู (ุฏุฏุงุฑ ุณูุงุชูุฑ ฺฉุฑุณ ููุฑู ุจุง ูุญูุฏ ุฌูุงุฏ ุธุฑู) ููุถ ูุงููู ููฺฏุงู ุงุณุช.
ุฑุฆุณ ุฌูููุฑ ุขูุฑฺฉุง ุงูุฒูุฏ: ฺู ุงุชูุงู ุงูุชุงุฏุ ุขุง ุดูุง (ุฎุจุฑูฺฏุงุฑุงู) ุฎุจุฑ ุฏุฑุจุงุฑู ุฏุฏุงุฑ ุณูุงุชูุฑ ููุฑู ุจุง ุงุฑุงูโูุง ุฎูุงูุฏุฏ ุง ุดูุฏุฏุ ูู ฺฉู ููโุฏุงููุ ููู ุงูุงู ฺฉู ุฏุงุดุชู ุงุฒ ุฎูุฏุฑู ุจุฑูู ูโุขูุฏู ุงู ุฎุจุฑ ุฑุง ุฎูุงูุฏู.
ูุงููู ููฺฏุงู ูุงููู ูุฏุฑุงู ุฏุฑ ุขูุฑฺฉุง ุงุณุช ฺฉู ุจุฑ ุงุณุงุณ ุขู ูุฑฺฏููู ูุฐุงฺฉุฑู ุจุฏูู ูุฌูุฒ ููุงูุงุช ุขูุฑฺฉุง ุจุง ุดูุฑููุฏุงู ุฏููุชโูุง -ฺฉู ุฏุฑฺฏุฑ ููุงูุดู ุจุง ุขูุฑฺฉุง ูุณุชูุฏ- ุฌุฑู ูุญุณูุจ ูโุดูุฏ.
ุงู ุงุธูุงุฑุงุช ุฏุฑ ูพ ุขู ูุทุฑุญ ูโุดูุฏ ฺฉู ฺฉุฑุณ ููุฑูุ ุณูุงุชูุฑ ุขูุฑฺฉุง ฺฉู ุฏุฑ ูุดุณุช ูููุฎ ูุฒ ุญุถูุฑ ุฏุงุดุชุ ูุฏุน ฺฏูุชโูฺฏู ุจุง ูุญูุฏุฌูุงุฏ ุธุฑูุ ูุฒุฑ ุฎุงุฑุฌู ุงุฑุงูุ ุฏุฑ ูุชู ูุญู ุงูุงูุช ุงู ุดุฏ. ููุฑู ุชุงฺฉุฏ ฺฉุฑุฏ ูุฑ ฺูุฏ ุงุฎุชุงุฑ ุงูุฏุงูุงุช ุฏูพููุงุชฺฉ ุฑุง ุงุฒ ุณู ุฏููุช ุขูุฑฺฉุง ูุฏุงุดุชุ ฺฏูุชโูฺฏู ุจุง ููุงู ุงุฑุงู ุฑุง ุจู ุณูุฏ ฺฉุดูุฑุด ู ุงููุช ูู ุขู ูโุฏุงูุฏ.
ุชุฑุงููพ ุฏุฑุจุงุฑู ููุถูุน ุงุฎุชูุงูุงุช ุฏุฑ ูุงุดูฺฏุชู ู ูุชูู ุดุฏู ูุฒุงุฑุช ุฏุงุฏฺฏุณุชุฑ ุขูุฑฺฉุง ุจู ูุฏุงุฎูู ุฏุฑ ูพุฑููุฏู ุฑุงุฌุฑ ุงุณุชููุ ูุดุงูุฑ ู ุฏูุณุช ุณุงุจู ุฎูุฏุ ูู ฺฏูุช: ูู ุจู ุฏุงุฏุณุชุงู ุฎูุฏ ุงุทููุงู ฺฉุงูู ุฏุงุฑูุ ูโุฏุงูุฏ ฺฉู ุงุฒ ููุงู ุงุจุชุฏุง ุฏูฺฉุฑุงุชโูุง ุดุฑูุน ุจู ุฌูุฌุงูโุขูุฑู ฺฉุฑุฏูุฏ. ุขูโูุง ุฏุฑ ุงุจุชุฏุง ฺฉุงุฑ ููุถูุน ุฑูุณู ุฑุง ูพุด ฺฉุดุฏูุฏุ ุจุนุฏ ุฌูุฌุงูโูุง ุจุฑ ุณุฑ ุชุญููุงุช ูููุฑ ุจูุฏ ู ุจุนุฏ ุงุฒ ุขู ูู ูุฏุงู ุฏุฑุจุงุฑู ุฑูุณู ุงููโุณุฑุง ฺฉุฑุฏูุฏ. ูู ุฑุงุฌุฑ ุงุณุชูู ุฑุง ููโุดูุงุณู ู ู ูุฒ ูฺ ููุด ุฏุฑ ุณุชุงุฏ ุงูุชุฎุงุจุงุช ูุง ูุฏุงุดุช. ุจุงูุฑ ุฏุงุฑู ฺฉู ุงุชูุงูุงุช ุจุณุงุฑ ุณุฎุช ุจุฑุง ุฑุงุฌุฑ ุงุณุชูู ุฑู ุฏุงุฏู ุงุณุช.
ุงู ุงูุฒูุฏ: ุชู ูู ุฏุฑ ุดุจฺฉูโูุง ุงุฌุชูุงุน ุจุณุงุฑ ูู ุนูู ูโฺฉูุฏ ู ุฏุณุช ฺฉู ูู ูู ุตุฏุง ุฏุฑ ุงู ูุงู ุฏุงุฑู ู ูโุชูุงูู ุจุง ุงุฎุจุงุฑ ุฌุนู ฺฉู ุฏุฑ ุขู ููุชุดุฑ ูโุดูุฏุ ููุงุจูู ฺฉูู. ุงูฺฉู ฺฏูุชู ุดุฏู ุงุณุช ุฏุงุฏุณุชุงู ฺฉู (ููุงู ุจุงุฑ) ูโฺฏูุฏ ูู ฺฉุงุฑ ู ุฑุง ุฏุดูุงุฑ ฺฉุฑุฏูโุงู ุดุงุฏ ุฏุฑุณุช ุจุงุดุฏุ ูู ุงูุฑุงุฏ ุฒุงุฏ ูู ูุณุชูุฏ ฺฉู ููโุฎูุงููุฏ ุงุชูุงูุงุช ุฎูุจ ุฑู ุจุฏูุฏ ู ุงู ุงุนุชูุงุฏ ูู ุงุณุช ูู ุงุนุชูุงุฏ ู ู ุจุงุฏ ุฏุฏฺฏุงูุด ุฑุง ุงุฒ ุฎูุฏุด ุณูุงู ฺฉูุฏ. ุดุจฺฉูโูุง ุงุฌุชูุงุน ุจุฑุง ูู ุจุณุงุฑ ุงููุช ุฏุงุฑุฏ ู ูโุฎูุงูู ุฏุฑ ุงู ูุถุง ุตุฏุง ุฏุงุดุชู ุจุงุดูุ ุฒุฑุง ุฏุฑ ุฑุณุงููโูุง ุตุฏุง ูุฏุงุดุชูโุงู. ุฏุฑุจุงุฑู ุฑุงุฌุฑ ุงุณุชูู ูุฒ ูุธุฑ ุฎุงุต ูุฏุงุฑูุ ูู ุจุงูุฑ ุฏุงุฑู ฺฉู ุฑูุชุงุฑ ฺฉู ุจุง ุงู ุดุฏู ุงุณุช ุจุณุงุฑ ุฏูุฑ ุงุฒ ุงูุตุงู ุจูุฏ.
ุฑุฆุณโุฌูููุฑ ุขูุฑฺฉุง ุฏุฑ ูพุงุณุฎ ุจู ุณูุงู ุฎุจุฑูฺฏุงุฑ ุฏุฑุจุงุฑู ุงูุบุงูุณุชุงู ูู ูุฏุน ุดุฏ: ูุง ููุฒุฏู ุณุงู ุงุณุช ฺฉู ุฏุฑฺฏุฑ ุฌูฺฏ ุฏุฑ ุงู ฺฉุดูุฑ ูุณุชูุ ูุฑูโูุง ุฎูุฏ ุฑุง ุจู ุดฺฉู ฺุดูฺฏุฑ ุฏุฑ ุงู ฺฉุดูุฑ ฺฉุงูุด ุฏุงุฏูโุงู ู ุฏุฑ ุญุงู ุญุงุถุฑ ุจุดุชุฑ ุจู ุฌุง ูุฑู ูุธุงูุ ุฏุฑ ููุด ุถุงุจุท ูุงููู ุนูู ูโฺฉูู. ฺฉุดุชู ฺูุฏ ูููู ููุฑ ุจุณุงุฑ ฺฉุงุฑ ุณุงุฏูโุง ุงุณุชุ ูู ูู ููโุฎูุงูู ุงู ฺฉุงุฑ ุฑุง ุจฺฉููุ ูโุชูุงูู ุจู ุณุงุฏฺฏ ุขุจ ุฎูุฑุฏู ุงู ฺฉุงุฑ ุฑุง ุจฺฉููุ ุตุญุจุช ูู ุงุฒ ุจูุจโูุง ูุณุชูโุง ูุณุชุ ูู ุงุฒ ุชุณูุญุงุช ฺฉุงููุง ูุชุนุงุฑู ุตุญุจุช ูโฺฉููุ ูู ููโุฎูุงูู ฺูุฏ ูููู ููุฑ ุฑุง ุจฺฉุดูุ ูู ูุงู ุจู ูุฐุงฺฉุฑู ุจุง ุทุงูุจุงู ูุณุชูุ ูุฏุช ุงุณุช ุงู ูุฐุงฺฉุฑู ุฏูุจุงู ูโุดูุฏ ู ุขูโูุง ุงู ูุฑุตุช ุฑุง ุฏุงุฑูุฏ ฺฉู ุจู ุชูุงูู ุจุฑุณูุฏ. ุงู ุจุฑุงุดุงู ูุฑุตุช ุงุณุช.
'''}, ensure_ascii=False)
print(callApi(url, payload, tokenKey))
# result:
# ุจู ฺฏุฒุงุฑุด ุฑูุชุฑุฒุ ุฏููุงูุฏ ุชุฑุงููพุ ุฑุฆุณโุฌูููุฑ ุขูุฑฺฉุงุ ุฏุฑ ูุงฺฉูุด ุจู ุงูุชุดุงุฑ ุฎุจุฑ ุฏุฑุจุงุฑู ุฏุฏุงุฑ ุณูุงุชูุฑ ฺฉุฑุณ ููุฑู ุจุง ูุญูุฏุฌูุงุฏ ุธุฑู ูุฒุฑ ุงููุฑ ุฎุงุฑุฌู ุงุฑุงู- ุฏุฑ ุญุงุดู ฺฉููุฑุงูุณ ุงููุช ูููุฎ- ฺฏูุช: ุฎุจุฑ ุฎูุงูุฏู ฺฉู ููุดุชู ุจูุฏ ุณูุงุชูุฑ ููุฑู ุจุง ุงุฑุงูโูุง ุฏุฏุงุฑ ฺฉุฑุฏ.
# ฺฉุดุชู ฺูุฏ ูููู ููุฑ ุจุณุงุฑ ฺฉุงุฑ ุณุงุฏูโุง ุงุณุชุ ูู ูู ููโุฎูุงูู ุงู ฺฉุงุฑ ุฑุง ุจฺฉููุ ูโุชูุงูู ุจู ุณุงุฏฺฏ ุขุจ ุฎูุฑุฏู ุงู ฺฉุงุฑ ุฑุง ุจฺฉููุ ุตุญุจุช ูู ุงุฒ ุจูุจโูุง ูุณุชูโุง ูุณุชุ ูู ุงุฒ ุชุณูุญุงุช ฺฉุงููุง ูุชุนุงุฑู ุตุญุจุช ูโฺฉููุ ูู ููโุฎูุงูู ฺูุฏ ูููู ููุฑ ุฑุง ุจฺฉุดูุ ูู ูุงู ุจู ูุฐุงฺฉุฑู ุจุง ุทุงูุจุงู ูุณุชูุ ูุฏุช ุงุณุช ุงู ูุฐุงฺฉุฑู ุฏูุจุงู ูโุดูุฏ ู ุขูโูุง ุงู ูุฑุตุช ุฑุง ุฏุงุฑูุฏ ฺฉู ุจู ุชูุงูู ุจุฑุณูุฏ.

######################## Topic Modeling ############################
url =  baseUrl + "InformationRetrieval/TopicModeling"
payload = json.dumps({"Method":"LDA", "TopicsCount":3, "wordsPerTopicCount": 10, "documents":'''
ุจุงุฒ ูู ุจฺุงุฑู ูุฑุฏู ฺฉ ุจุงุฏ ุชู ุฒุญูุช ูุถุงุนู ุจุงูุชูุฏ
ุณุณุชูโุนุงูู ุชูุงู ูุณุฎู ุณุฑูุณ ูพุฑูุ ูุณุฎู ูพุฑู ููุฏูุฒ ุงุณุชุ ูพุณ ูุฑ ุจุฑูุงููโุง ุฑู ุงู ุชุจูุช ูุงุจู ูุตุจ ุงุณุช.
ูู ุณุงูุฏูฺ ุฑุง ุฏูุณุช ูุฏุงุดุชู. ุจู ูุธุฑู ฺฉูุช ฺฏูุดุช ุฎูุจ ูุจูุฏ ูู ุณุจ ุฑุง ุฏูุณุช ุฏุงุดุชู
ุญุฌู ูุฒู ู ูุญูู ุงุฑุณุงู ุฎู ุฎูุจ ุจูุฏ ุงูุชุงุฒ ฺฉุงูู ุฏุงุฏู. ุณุณ ุฑู ูุงู ฺฉู ุจู ุดุฑู ูุฒุฏ ฺฉู ุณูููโุง ูุณุช ูู ุฎู ุฏูุณุช ูุฏุงุฑู ุจุงุงูโูุฌูุฏ ุฏุฑโูุฌููุน ุฎู ุฎูุจ ุจูุฏ
ูู ุงู ูุฏู ุฑุง ูโุฎูุงูู ุจู ูฺ ุฌุง ุบุฑ ุงุฒ ุดูุง ูู ุงุนุชูุงุฏ ูุฏุงุฑู ุญุงุถุฑู ูพููุด ูพุด ุจุฏูู
ุฑูฺฏ ุณูุฏ ฺฏุฑูุชู ุงูุง ุธุงูุฑุง s45 ูุณุช ฺฉู 14 ุชููุงู ุงุฑุฒุงูโุชุฑ ุงุณุช. ุดุจู ุนฺฉุณ ุงู ูุญุตูู ูุณุช.
ุนุงู. ุนุงู. ุนุงู. ุนุงู. ุนุงู
ุงู ูพุงูุฑ ุจุงูฺฉ ุฑุง ุญุฏูุฏ 1 ูุงู ุฎุฑุฏู ู ุฎู ุฑุงุถู. ฺฉ ุงุฒ ุฏูุงู ฺฉู ุงู ูพุงูุฑ ุฑุง ุฎุฑุฏู ุงู ุจูุฏ ฺฉู< ุจุฑูุฏ ุงูุฑุฌุงุฒุฑ> ุชููุฏ ฺฉููุฏูโ ุณู ุจุงุชุฑ ุชู ุฏูุง ูโุจุงุดุฏ.
ุฏุฑ ุฌุง ฺฉู ูุงููู ุจโฺฉูุงุช ูโฺฉูุฏ ุฎุฏุง ู ูุฑุฏู ุฌูุงุจ ุงู ฺฏุฑฺฏูุง ุฑุง ุฎูุจ ูโุฏููุฏ. ุฏูุงุฏุงุฑ ูฺฉุงูุงุช ูุณุช.
ููุงูู ุงุฒ ูุทูุช ููุฑุจุงู
ุฑุณุชูุฑุงู ุฎู ุฎูุจ ุงุณุช
ุจุณุงุฑ ุนุงู ู ุฎูุดโุทุนู ู ุฎูุจ ููุท ฺฉ ููุฏุงุฑ ฺฉูุจูุฏ ูู ุฎู ุฎูุดโุทุนู ุจูุฏ ูุฎุตูุตุง ุณุณโูุงุด ุนุงู ุจูุฏ ูููููู
ุงูุช ุดุฏุฏ. ฺฉูุช. ูุณุจุช ุจู ูุจู ุฏุงุดุช.
ุณูุงูโฆ ฺฉ ูพุชุฒุง ุญุฑููโุง ุฎูุดูุฒู ุจูุฏ
ูพุดููุงุฏ ูฺู ูุทูุง ููู ุงูุงู ุขู ุฑุง ุจุฎุฑู
ุงุฑุชุด ุณุฑุฎ
ุฎู ุฎูุดูุฒู ู ุนุงูโฆ ููุท ุฏุฑ ุฑุณุฏ ุจู ุฏุณุชู ู ุณุฑุฏ ุดุฏู ุจูุฏ ุบุฐุงู
ููุช ฺฉูุงุณโูุง ฺฏุชุงุฑ ุจุฑุง ูุจุชุฏ ฺูุฏ ูุณุชุ ูโุชูุงูุฏ ฺูุฏ ุฌุง ูุนุฑู ฺฉูุฏุ ุจุง ุชุดฺฉุฑ ุงุฒ ุฏุฌ ฺฉุงูุง
ุจุง ุณูุงู ู ุชุจุฑฺฉ ุณุงู ูู ูู ุงู ฺฏูุด ุฑุง ุณูุงุฑุด ุฏุงุฏู ุงุฒ ุณุงุช ุดูุง ุงูุง ูููุน ุชุญูู ฺฏูุด ุฌุนุจู ฺฏูุด ูู ู ุฎุฑุงุจโุดุฏู ุจูุฏ ุงุฒ ุดุฑฺฉุช ูุนุชุจุฑ ูุซู ุดูุง ุจุนุฏ ูุณุชุ. ฺฏูุด ุฎู ุฎูุจ ูู ุงุฒ ุงู ุฑุงุถู. ุจุง ุชุดฺฉุฑ
ุณูุงู. ุฏุฌฺฉุงูุง ุนุฒุฒุ ูุทูุง ูุฑฺูโุณุฑุนุชุฑ ููุฏ ู ุจุฑุฑุณ ฺฉุงูู ุฏุฑุจุงุฑู ุงู ฺฏูุด ุฏุฑ ุณุงุช ูุฑุงุฑ ุฏูุฏ.
ูุงูุนุง ุฒุจุง ุงุณุช
ุงูู ุจุฑ ุชู ุง ฺฏูุฑฺฉ ุขูุงุฒุงุฏู ููุงุฒ ู ุตูุนุช ุฎูุฏุฑูุณุงุฒ ฺฉู ุจูุง ุฌุงู ูุฑุฏู ุจโฺฏูุงู ุดุฏูโุงโฆ . ุงูุญู ฺฉู ุฎูุจ ุจู ูุฑุฏู ูุธููู ุงุฑุงู ุฎุฏูุช ูุงุตุงุฏูุงูู ูโฺฉูุฏ
ุงูู ูู ฺู ูฺฉุฑ ูฺฉุฑุฏูู ฺู ุดุฏ. ูโฺฏูุชู ุงุฒ ุฏู ูููู ุขูุทุฑู ุฏฺฏุฑ ููโูพุฑุฏ ูุฒุฏฺฉ ุณู ูููู ุดุฏ ุนุฌุจ
ุจุงโุณุฑุนุช ุบุฐุง ุฑุง ุขูุฑุฏูุฏ. ุบุฐุงูุง ุฎูุดูุฒู ุจูุฏูุฏ
ูุชู ุขุฑุงูุดโุจุฎุด ุจุง ููุง ุณุงุญู ููุงุณุจ. ูุชู ุขูุงูู 2 ุฏุฑฺฏูุงู ุงุฒ ูุญุงุธ ูููุนุช ุจุณุงุฑ ููุงุณุจ ุฏุงุฑุง ููุง ุณุงุญู ุขุฑุงู ู ุจุณุงุฑ ูุฒุฏฺฉ ุจุงุฒุงุฑ ุฏุฑฺฏูุงู ุจูุฏู ุงูุง ุชููุง ููุงุท ุถุนู ูุชู ูุฏุงุดุชู ุชููุน ุฏุฑ ููู ุตุจุญุงููุ ูุฏุงุดุชู ุขุณุงูุณูุฑุ ุนุฏู ูุธุงูุช ุณุฑููุช ุฑุงูุฑููุงุ ูุทุน ูุง ูุง ุงูุชุฑูุช ุงุชุงู ู ุณุฑูุณ ุจูุฏุงุดุชโูุง ุถุนู ุฏุงุฎู ุงุชุงู ุจูุฏ.
ูู ุญุฏูุฏ 6 ูุงูู ฺฏูุด ุฑุง ุฏุงุฑู ุฎู ฺฏูุด ุฎูุจ ูุณุช ุงุฒ ูุฑ ูุญุงุธ ุจฺฏู ุนุงู ูุณุช
ุฎู ุฒูุฏ ุขุจ ุฑุง ุฌูุด ูโุขูุฑุฏ. ููุฑ ฺฉ ูุชุฑ ฺฏูุฌุงุด ุฏุงุฑุฏ. ุณุณุชู ฺฏุฑู ูฺฏูุฏุงุฑูุฏู ุฏุงุฑุฏ. ูุชุงุณูุงูู ฺฉุชุฑ ูพูุงุณุชฺฉ ูุณุช ูู ุจุง ุงู ููุช ูุงุจู ูุจูู ูุณุช. ูู ุฏุฑูู ูพุดููุงุฏ ูฺู ุฎุฑุฏู ููุชุด ุจู ูุณุจุช ฺฉู ุฎู ุนุงู ูุณุช. ูุฑุณ
ฺฉูุช ู ููุฏุงุฑ ููุจุฑฺฏุฑ ุนุงู ุจูุฏุ ููุท ุณุจโุฒูู ุฒุงุฏ ุฌุงูุจ ูุจูุฏุ ุจุงุฒ ูู ููููู ุงุณููพ ููุฏ
ููุท ฺฉู ุจุฑุดุชูโุชุฑ ุดูุฏ ุจุง ุณุณ ุฒุงุฏ ุจฺฏุฐุงุฑุฏ
ุณุฎุชโุงูุฒุงุฑ ุจุณุงุฑ ูพุงู ุฏุงุฑุฏ ุจุงุฒฺฏูุฏ ูููุฑ ุจุงุญุฌู ุจุงูุง ุฑูุด ุจุงุดุฏ ุงูฺฉุงู ููฺฏุด ุฒุงุฏู ูู ุงูุฏุงุฒู ุจุฒุฑฺฏ ุฏุงุฑุฏ
ููโุฏุงูู ฺู ููุงุฏ ุฏุฑุด ุจฺฉุงุฑุฑูุชู. . ูู ุจุฑุง ูู ุญุณุงุณุช ุฏุงุดุช ู ุจุงุนุซ ุงุฌุงุฏ ูฺฉูโูุง ูุฑูุฒ ุฑู ูพูุณุช ุดุฏ. . ุจู ุชูุฏ ุฏุงุฑุฏ ู ูฺฉุฑ ูโฺฉูู ููุงุฏ ฺฉู ุจุฑุง ุงุฌุงุฏ ุงู ุจู ุชูุฏ ุจฺฉุงุฑุฑูุชู ุจุงุนุซ ููู ุญุณุงุณุช ุดุฏู ุจุงุดุฏ.
ฺฉูุงู ู ุฌูุงู ูโฆ ุชุง ุฏุฑูุฒ ุงุฒ ุงุณู ุงูุฑฺฉุง ู ุฏุงูุดฺฏุงูโูุงุด ุญุงูุด ุจู ูู ูโุฎูุฑุฏ ุญุงูุง ูุธุฑุณูุฌุด ุฑุง ูโุขุฏ ุจุฑุฑุณ ุนูู ูโฺฉูุฏโฆ ฺฉ ุจู ฺฉ ูโฺฏูุฏ ูุงู ุจู ูุฑุฎ ุฑูุฒ ุฎูุฑ??
ุณูุงู. ุขุง ุงู ุฏุณุชฺฏุงู ุฏุงุฑุง ฺฉูุชุฑู ุงุฒ ุฑุงู ุฏูุฑ ูุณุชุ
ฺฉูุช ุจุฑูุฌ ุฎู ุฎูุจ ุจูุฏ. ูุชุงุณูุงูู ุฎูุฑุด ููู ุจุดุชุฑ ูุฒูโ ุขุจฺฏูุดุช ูโุฏุงุฏ. ฺฏูุดุชโูุง ุจุณุงุฑ ุณูุช ุจูุฏ. ููุฏุงุฑ ุฎูุฑุด ูู ฺฉูุจูุฏ. ุงูุจุชู ฺูู ุฑูุบู ุฎูุฑุด ุฎู ฺฉูุจูุฏุ ุงุญุชูุงูุง ุจุฑุง ุงูุฑุงุฏ ฺฉู ุจุงุฏ ุบุฐุง ฺฉูโุฑูุบู ุจุฎูุฑูุฏ ฺฏุฒููโุง ููุงุณุจ ุจุงุดุฏ.
ุณูุงู ูู ุงู ฺฏูุด ุฑุง ุญุฏูุฏ ฺฉ ูุงู ูโุดูุฏ ุฎุฑุฏู ุงููุด ุฎูุจ ุจูุฏ ูู ุงูุงู ูููโุงุด ููฺฏ ูโฺฉูุฏ
ุฏูุณุชุงู ุงู ููุณ ุจููุชูุซ ูุณุช ู ุฏุงูฺฏู ูุฏุงุฑุฏ ุจุง ูพุฑุช USB ุดูุง ูู ฺฉุงุฑ ูุฏุงุฑุฏ
ุงู ฺฉุงุฑุจุฑ ูพุฑุณูพููุณ ุญุงูุด ุฎูุจ ูุณุชโฆ . ุงูโูุฏุฑ ุดุนูุฑ ุทุฑูุฏุงุฑุงู ุขูุชุงุจู ูุฑูุฒ ฺฉู ุดุฏู ฺฉู ูุงู ุงูุฌุง ู ุจุฌุง ููุฏุฑุฏ ุญุฑู ุจโุฑุจุท ูโุฒููุฏ. . ููุฑูุฒ ูุญุด ุฎูุฑุฏ ุงูุฎูุฑุฏ ุจู ูุงุฆุฏ ฺู ุฑุจุท ุฏุงุฑุฏุุุ
ููุงูุทูุฑ ฺฉู ุจูู ุฏูุณุชุงู ูู ฺฏูุชูุ ุดุฑู ฺฉู ุจูู ุฑุฎุชู ุจูุฏ ู ุฌุนุจูโุงุด ฺฉู ูพุงุฑู ู ฺฉููู. ููโุฏุงูู ูุณุฑ ฺฉูุชุงู ฺู ุจูุง ุณุฑุด ุขูุฏู ุจูุฏ
ฺฉูุช ุบุฐุง ุจุณุงุฑ ูพุงู ู ุจุฏ
ุจุงุฒ ุนุงู ูู ููู ุฏุฑูุฒ ฺฏุฑูุชูุด ุญุชูุง ุขู ุฑุง ุจฺฏุฑุฏ
'''.splitlines()}, ensure_ascii=False)
result = json.loads(callApi(url, payload, tokenKey))
cnt = 1
for list in result:
    print("---- Topic {} ----".format(cnt))
    cnt+=1
    for k, v in list.items():
        print(k+"  ")
    
''' result:
---- Topic 1 ----
ุนุงู
ฺฏูุด
ฺฉูุช
ุฎุฑุฏู
ุญุฏูุฏ
ููุฏุงุฑ
ฺฉูุจูุฏ
ุฎูุดูุฒู
ุฎูุฑุด
ูพุงูุฑ
---- Topic 2 ----
ูุฑุฏู
ุงูู
ูููู
ูุฒุฏฺฉ
ููุง
ุณุงุญู
ููุงุณุจ
ูุชู
ุฏุฑฺฏูุงู
ูุฏุงุดุชู
---- Topic 3 ----
ฺฉู
ุฏูุณุช
ูุณุฎู
ูพุฑู
ุณุณ
ุดุฑู
ูุฏุงุฑู
ููโุฏุงูู
ููุงุฏ
ุจฺฉุงุฑุฑูุชู
'''

######################## Call Virastar ############################
url =  baseUrl + "Virastar/ScanText"
payload = {"text": "ุญุชูุง ุขู ูุง ูููู ุฑุง ุงุญุชุฑุงู ู ฺชููุฏ. ฺฏ ุจูพูุฌุฑู  ุจุฒฺฏ ูุณุจุฒ ุจุงุฒ ูุดูุฏ . !ุญุถูุฑ ุชุงู ุฑุง ฺฉุฑุงู ู ุฏุงุดุชู", 
           "returnOnlyChangedTokens": False}
result = json.loads(callApiJsonParam(url, payload, tokenKey))
output = ''
for token in result:
    output += token['OriginalText']
    if (token['IsChanged']):
        output += '{' + ' - '.join([f"{edit['SuggestedText']}({edit['Description']})" for edit in token['EditList']]) + '}'        
print(output)
''' result:
ุญุชูุง{ุญุชูุงู(ุงุตูุงุญ ุชููู)} ุขู ูุง{ุขูโูุง(ุงุตูุงุญ ูพุณููุฏ)} ูููู{ูุคูู(ุงุตูุงุญ ุญุฑูู ุฏุงุฑุง ููุฒู)} ุฑุง ุงุญุชุฑุงู ู ฺชููุฏ{ูโฺฉููุฏ(ุงุตูุงุญ ูพุดููุฏุ ุงุตูุงุญุงุช ููุณูโูุง)}. ฺฏ{ฺฉ(ุงุตูุงุญ ุงุดุชุจุงู ุชุงูพ/ุงููุงุฆ ุฑุงุฌ)} ุจูพูุฌุฑู {ุจูพูุฌุฑูโ(ุงุตูุงุญ ูพุณููุฏ) - ุจู ูพูุฌุฑูโ(ุฌุฏุงุณุงุฒ ูุงฺูโูุง ุจูู ฺุณุจุฏู)} ุจุฒฺฏ{ุจุฒุฑฺฏ(ุงุตูุงุญ ุงุดุชุจุงู ุชุงูพ/ุงููุงุฆ ุฑุงุฌ)} ูุณุจุฒ{ู ุณุจุฒ(ุฌุฏุงุณุงุฒ ูุงฺูโูุง ุจูู ฺุณุจุฏู)} ุจุงุฒ ูุดูุฏ{ูโุดูุฏ(ุงุตูุงุญ ูพุดููุฏ)} . !{.! (ุงุตูุงุญ ูุงุตููโฺฏุฐุงุฑ ูุทุงุจู ุฏุณุชูุฑ ุฒุจุงู)}ุญุถูุฑ ุชุงู{ุญุถูุฑุชุงู(ูพุดููุงุฏ ูพูุณุชูโููุณ ูุงฺูโูุง ฺูุฏุจุฎุด)} ุฑุง ฺฉุฑุงู{ฺฉุฑู(ุงู ูุงฺู ุงุฒ ูุธุฑ ูุบู ูุดุงุจู ยซฺฉุฑูยป ุงุณุช. (ุจุง ูุฒุงู ูุงุตู: 1)) - ุฑุงู(ุงู ูุงฺู ุงุฒ ูุธุฑ ูุบู ูุดุงุจู ยซุฑุงูยป ุงุณุช. (ุจุง ูุฒุงู ูุงุตู: 0.98)) - ฺฏุฑุงู(ุงู ูุงฺู ุงุฒ ูุธุฑ ูุบู ูุดุงุจู ยซฺฏุฑุงูยป ุงุณุช. (ุจุง ูุฒุงู ูุงุตู: 0.75))} ู ุฏุงุดุชู{ูโุฏุงุดุชู(ุงุตูุงุญ ูพุดููุฏ)}
'''
################# Call Punctuation Restoration #####################
url =  baseUrl + "Virastar/PunctuationRestoration"
payload = {"text": u'''ุฏุฑุงุฏุงูู ุงู ูุทูุจ ุขูุฏู ุงุณุช ุฏููุช ุจุงุฏู ฺฉู ุฏุฑ ูพุดุช ุณุฑูุตูโูุง ุงุฎุจุงุฑ ุงูฺฉุฑุงู ูพููุงู ุดุฏู ุจูุฏ ุญุงูุง ฺฉ ฺฏุงู ูฺฏุฑุงูโฺฉููุฏู ุจู ุฌูฺฏ ุจุง ุงุฑุงู ูุฒุฏฺฉโุชุฑ ุดุฏ ุจู ฺฏุฒุงุฑุด ฺฉุงูุงู ฑณ ุงุณุฑุงุฆูุ ุงุงูุงุช ูุชุญุฏู ุจุง ุดุฑฺฉุช ุฏุฑ ุฑุฒูุงุด ุจุฒุฑฺฏ ุงุณุฑุงุฆู ุจุฑุง ุดุจู ุณุงุฒ ุญููู ุจู ุชุงุณุณุงุช ูุณุชูโุง ุงุฑุงู ุฏุฑ ุงูุงุฎุฑ ุงู ูุงู ููุงููุช ฺฉุฑุฏู ุงุณุช ุชุงูุฒ ุงุณุฑุงุฆู ุฎุงุทุฑูุดุงู ฺฉุฑุฏ ฺฉู ุงู ฺฏุฒุงุฑุด ุจุฏูู ููุจุน ุงุณุช ุงูุง ุจู ฺฏูุชู ุงฺฉุณูุณ ููุงูุงุช ุงุณุฑุงุฆู ุชุฃุฏ ฺฉุฑุฏูุฏ ฺฉู ุงุงูุงุช ูุชุญุฏู ูุดุงุฑฺฉุช ุฎูุงูุฏ ฺฉุฑุฏ ู ูพูุชุงฺฏูู ุจู ุฏุฑุฎูุงุณุช ุงฺฉุณูุณ ุจุฑุง ุงุธูุงุฑ ูุธุฑ ุจูุงูุงุตูู ูพุงุณุฎ ูุฏุงุฏ'''}
print(callApiJsonParam(url, payload, tokenKey))
''' result:
ุฏุฑุงุฏุงูู ุงู ูุทูุจ ุขูุฏู ุงุณุช: ุฏููุช ุจุงุฏู ฺฉู ุฏุฑ ูพุดุช ุณุฑูุตูโูุง ุงุฎุจุงุฑ ุงูฺฉุฑุงู ูพููุงู ุดุฏู ุจูุฏ. ุญุงูุง ฺฉ ฺฏุงู ูฺฏุฑุงูโฺฉููุฏู ุจู ุฌูฺฏ ุจุง ุงุฑุงู ูุฒุฏฺฉโุชุฑ ุดุฏ. ุจู ฺฏุฒุงุฑุด ฺฉุงูุงู ฑณ ุงุณุฑุงุฆูุ ุงุงูุงุชโูุชุญุฏู ุจุง ุดุฑฺฉุช ุฏุฑ ุฑุฒูุงุด ุจุฒุฑฺฏ ุงุณุฑุงุฆู ุจุฑุง ุดุจูโุณุงุฒ ุญููู ุจู ุชุงุณุณุงุช ูุณุชูโุง ุงุฑุงู ุฏุฑ ุงูุงุฎุฑ ุงู ูุงู ููุงููุช ฺฉุฑุฏู ุงุณุช. ุชุงูุฒ ุงุณุฑุงุฆู ุฎุงุทุฑูุดุงู ฺฉุฑุฏ ฺฉู ุงู ฺฏุฒุงุฑุด ุจุฏูู ููุจุน ุงุณุชุ ุงูุง ุจู ฺฏูุชู ุงฺฉุณูุณ ููุงูุงุช ุงุณุฑุงุฆู ุชุงุฏ ฺฉุฑุฏูุฏ ฺฉู ุงุงูุงุชโูุชุญุฏู ูุดุงุฑฺฉุช ุฎูุงูุฏ ฺฉุฑุฏ ู ูพูุชุงฺฏูู ุจู ุฏุฑุฎูุงุณุช ุงฺฉุณูุณ ุจุฑุง ุงุธูุงุฑูุธุฑ ุจูุงูุงุตูู ูพุงุณุฎ ูุฏุงุฏ.
'''

print("Finished ๐")
